<mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title>
      My-Cart
    </mat-panel-title>
  </mat-expansion-panel-header>
  <ng-container *ngIf="ItemService.transactions.length === 0; else elseTemplate">
    <h6>Start shopping</h6>
  </ng-container>
  <ng-template #elseTemplate>
    <table *ngFor="let transaction of ItemService.transactions" class="webkit-scrollbar">
      <ng-container *ngIf="transaction.Quantity !== 0">
        <div>
          <td><img src="https://m-market-server.herokuapp.com{{transaction.Img}}" class="img"></td>
        </div>
        <ng-container>
          <td class="name">
            <h6>{{transaction.Name}}</h6>
          </td>
        </ng-container>
        <ng-container>
          <td class="price">
            <h6>
              <button mat-icon-button (click)="minus_one(transaction)" class="button" matTooltip="{{error_msg}}"
                matTooltipClass="example-tooltip-red" aria-label="Button that shows a red tooltip">-</button>
              {{transaction.Quantity}}
              <button mat-icon-button (click)="plus_one(transaction)" class="button">+</button>
            </h6>
            <h6>{{transaction.Price*transaction.Quantity | currency}}</h6>
          </td>
          <button (click)="delete_one(transaction)" mat-icon-button class="button">
            <i class="material-icons">
              delete_outline
            </i>
          </button>
        </ng-container>
      </ng-container>
    </table>
    <ng-container>
      <ng-container *ngIf="getTotalValue() !== 0; else elseTemplate">
        <td>
          <h5>Total:</h5>
          <h6>Amount: {{getTotalValue()}}</h6>
          <h6>Price: {{getTotalCost() | currency}}</h6>
          <h6 *ngIf="CartService.cart_date">Date: {{CartService.cart_date.CartDate | date: 'dd/MM/yyyy'}}</h6>
        </td>
        <td>
          <button mat-button mat-flat-button color="primary" (click)="buy()">Finished</button>
          <button mat-button mat-flat-button color="warn" (click)="delete_all()"><i
              class="material-icons">remove_shopping_cart</i></button>
        </td>
      </ng-container>
      <ng-template #elseTemplate>
        <h6>Start shopping</h6>
      </ng-template>
    </ng-container>
  </ng-template>
</mat-expansion-panel>